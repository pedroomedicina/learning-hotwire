<%= tag.div id: dom_id(todo), class: "flex", data: { reposition_url: reposition_project_todo_path(todo.project, todo) } do %>
  <%= form_with model: [todo.project, todo] do |form| %>
    <%= form.checkbox :completed, data: { controller: "autosubmit", action: "change->autosubmit#submit" } %>
  <% end %>

  <div class="flex items-center">
    <%= link_to todo.name, [todo.project, todo] %>
    <% if todo.user %>
      <div class="hovercard">
        <%= image_tag todo.user.gravatar_url, class: "avatar" if todo.user %>
        <%= turbo_frame_tag todo.user, :hovercard, src: project_user_path(todo.project, todo.user), loading: :lazy do %>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
